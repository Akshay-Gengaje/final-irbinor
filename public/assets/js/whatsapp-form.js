const phoneInput=document.querySelector("#phone"),iti=window.intlTelInput(phoneInput,{initialCountry:"auto",preferredCountries:["us","in","gb"],geoIpLookup:function(e){fetch("https://ipapi.co/json").then(e=>e.json()).then(t=>e(t.country_code)).catch(()=>e("us"))},utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/js/utils.js"}),form=document.getElementById("whatsapp-form");function showError(e,t){const n=document.getElementById(`${e}-error`);n.textContent=t,n.classList.remove("hidden")}function clearErrors(){["name","email","phone","message"].forEach(e=>{const t=document.getElementById(`${e}-error`);t.textContent="",t.classList.add("hidden")})}form.addEventListener("submit",function(e){e.preventDefault(),clearErrors();const t=document.getElementById("name").value.trim(),n=document.getElementById("email").value.trim(),o=iti.getNumber(),s=iti.isValidNumber(),r=document.getElementById("message").value.trim();let a=!1;/^[a-zA-Z]{2,}(?: [a-zA-Z]+)+$/.test(t)||(showError("name","Please enter your full name (first and last name)."),a=!0);if(/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i.test(n)||(showError("email","Please enter a valid email address."),a=!0),s||(showError("phone","Please enter a valid phone number."),a=!0),(r.length<10||r.length>300)&&(showError("message","Message must be between 10 and 300 characters."),a=!0),!a){const e=`https://wa.me/${"918888591205"}?text=${encodeURIComponent(`Hi, my name is ${t}.\nMy email is ${n}.\nMy phone number is ${o}.\n\nMessage:\n${r}`)}`;window.open(e,"_blank")}});const toggleBtn=document.getElementById("wa-toggle"),formContainer=document.getElementById("wa-form-container"),closeBtn=document.getElementById("close-wa-form");toggleBtn.addEventListener("click",()=>{formContainer.classList.toggle("hidden")}),closeBtn.addEventListener("click",()=>{formContainer.classList.add("hidden")});