document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("globe-container");if(!e)return;const n=new THREE.Scene,t=new THREE.PerspectiveCamera(75,e.clientWidth/e.clientHeight,.1,1e3);t.position.z=15;const i=new THREE.WebGLRenderer({antialias:!0,alpha:!0});i.setSize(e.clientWidth,e.clientHeight),i.setPixelRatio(window.devicePixelRatio),e.appendChild(i.domElement);const o=new THREE.SphereGeometry(5,64,64),a=new THREE.MeshPhongMaterial({color:3900150,shininess:10,transparent:!0,opacity:.9}),s=new THREE.Mesh(o,a);n.add(s);const l=new THREE.AmbientLight(16777215,.5);n.add(l);const c=new THREE.DirectionalLight(16777215,1);c.position.set(5,3,5),n.add(c);const d=new THREE.MeshBasicMaterial({color:16777215});[{lat:18.5204,lon:73.8567,name:"Pune"},{lat:40.7128,lon:-74.006,name:"New York"},{lat:51.5074,lon:-.1278,name:"London"},{lat:35.6895,lon:139.6917,name:"Tokyo"},{lat:-33.8688,lon:151.2093,name:"Sydney"},{lat:25.276987,lon:55.296249,name:"Dubai"},{lat:-23.5505,lon:-46.6333,name:"SÃ£o Paulo"}].forEach(e=>{const n=new THREE.Mesh(new THREE.SphereGeometry(.08,16,16),d),t=function(e,n,t){const i=(90-e)*(Math.PI/180),o=(n+180)*(Math.PI/180),a=-t*Math.sin(i)*Math.cos(o),s=t*Math.sin(i)*Math.sin(o),l=t*Math.cos(i);return new THREE.Vector3(a,l,s)}(e.lat,e.lon,5);n.position.set(t.x,t.y,t.z),s.add(n)});let r=!1,E={x:0,y:0};e.addEventListener("mousedown",e=>{r=!0}),e.addEventListener("mouseup",()=>{r=!1}),e.addEventListener("mouseleave",()=>{r=!1}),e.addEventListener("mousemove",e=>{if(!r)return;const n=e.clientX-E.x,t=e.clientY-E.y;s.rotation.y+=.005*n,s.rotation.x+=.005*t,E={x:e.clientX,y:e.clientY}}),e.addEventListener("mousedown",e=>{E={x:e.clientX,y:e.clientY}}),function e(){requestAnimationFrame(e),r||(s.rotation.y+=5e-4),i.render(n,t)}(),window.addEventListener("resize",()=>{t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix(),i.setSize(e.clientWidth,e.clientHeight)})});