document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.getElementById("menu-btn"),s=document.getElementById("sidebar-close-btn"),o=document.getElementById("mobile-menu"),n=document.getElementById("sidebar-overlay"),c=document.querySelectorAll("#mobile-menu a"),a=()=>{if(!o)return;const s=o.classList.contains("translate-x-full");o.classList.toggle("translate-x-full"),n.classList.toggle("opacity-0"),n.classList.toggle("pointer-events-none"),e.classList.toggle("overflow-hidden"),t.setAttribute("aria-expanded",!s)};t&&(t.addEventListener("click",a),s.addEventListener("click",a),n.addEventListener("click",a),c.forEach(e=>e.addEventListener("click",a)),document.addEventListener("keydown",e=>{"Escape"!==e.key||o.classList.contains("translate-x-full")||a()}));const l=document.getElementById("theme-toggle");if(l){const u=document.getElementById("theme-toggle-dark-icon"),h=document.getElementById("theme-toggle-light-icon"),y=(e,t=!1)=>{document.documentElement.classList.toggle("dark","dark"===e),u.classList.toggle("hidden","dark"!==e),h.classList.toggle("hidden","dark"===e),t&&localStorage.setItem("theme",e)},v=localStorage.getItem("theme")||"light";y(v),l.addEventListener("click",()=>{const e=document.documentElement.classList.contains("dark")?"light":"dark";y(e,!0)})}const i=document.getElementById("category-grid");if(i){const x={"luxury-weddings":{title:"Luxury Weddings",images:["https://images.pexels.com/photos/931179/pexels-photo-931179.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/169190/pexels-photo-169190.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2291462/pexels-photo-2291462.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"]},"corporate-gala":{title:"Corporate Galas",images:["https://images.pexels.com/photos/6519188/pexels-photo-6519188.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2774556/pexels-photo-2774556.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/5638743/pexels-photo-5638743.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"]},"minimalist-events":{title:"Minimalist Designs",images:["https://images.pexels.com/photos/6492397/pexels-photo-6492397.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2789328/pexels-photo-2789328.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/4243313/pexels-photo-4243313.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"]},"destination-events":{title:"Destination Events",images:["https://images.pexels.com/photos/1834407/pexels-photo-1834407.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2440856/pexels-photo-2440856.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"]}},E=document.getElementById("image-modal"),L=E.querySelector(".modal-content"),b=document.getElementById("modal-title"),f=document.getElementById("modal-counter"),k=document.getElementById("close-modal"),w=document.getElementById("prev-btn"),I=document.getElementById("next-btn"),B=document.getElementById("carousel-container");let j=[],S=0;const q='\n                    <div class="loading-container">\n                        <div class="loading-spinner"></div>\n                    </div>\n                    <img id="modal-image" src="" alt="" class="carousel-image w-full h-full object-cover opacity-0 transition-opacity duration-300">';function r(e){B.innerHTML=q;const t=document.getElementById("modal-image"),s=B.querySelector(".loading-container"),o=new Image;o.src=j[e],o.onload=()=>{t.src=o.src,t.classList.remove("opacity-0"),s.style.display="none"},o.onerror=()=>{B.innerHTML=`\n                            <div class="error-container">\n                                <p>Image Not Found</p>\n                                <button onclick="retryImage(${e})">Retry</button>\n                            </div>\n                        `,f.textContent=`${e+1} / ${j.length}`},f.textContent=`${e+1} / ${j.length}`}function d(){E.classList.add("opacity-0"),L.classList.add("opacity-0","scale-95","-translate-y-5"),setTimeout(()=>{E.classList.add("pointer-events-none"),document.body.style.overflow="auto"},300)}function m(e){0!==j.length&&(S=(S+e+j.length)%j.length,r(S))}window.retryImage=function(e){B.innerHTML=q,r(e)},i.addEventListener("click",e=>{const t=e.target.closest(".category-card");t&&function(e){const t=x[e];t&&(j=t.images,S=0,b.textContent=t.title,r(S),E.classList.remove("pointer-events-none","opacity-0"),L.classList.remove("opacity-0","scale-95","-translate-y-5"),L.classList.add("modal-enter"),document.body.style.overflow="hidden")}(t.dataset.categoryId)}),I.addEventListener("click",()=>m(1)),w.addEventListener("click",()=>m(-1)),k.addEventListener("click",d),E.addEventListener("click",e=>e.target===E&&d()),document.addEventListener("keydown",e=>{E.classList.contains("opacity-0")||("Escape"===e.key&&d(),"ArrowRight"===e.key&&I.click(),"ArrowLeft"===e.key&&w.click())})}const g=document.querySelectorAll(".reveal");if(g.length>0){const A=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});g.forEach(e=>A.observe(e))}const p=document.querySelectorAll(".faq-question");p.forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling,s="true"===e.getAttribute("aria-expanded");s||p.forEach(e=>{e.setAttribute("aria-expanded","false"),e.nextElementSibling.style.maxHeight=null,e.querySelector("svg").style.transform="rotate(0deg)"}),e.setAttribute("aria-expanded",!s),t.style.maxHeight=s?null:t.scrollHeight+"px",e.querySelector("svg").style.transform=s?"rotate(0deg)":"rotate(180deg)"})})});