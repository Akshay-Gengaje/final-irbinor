document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.getElementById("menu-btn"),n=document.getElementById("sidebar-close-btn"),s=document.getElementById("mobile-menu"),o=document.getElementById("sidebar-overlay"),a=document.querySelectorAll("#mobile-menu a"),c=()=>{const n=s.classList.contains("translate-x-full");s.classList.toggle("translate-x-full"),o.classList.toggle("opacity-0"),o.classList.toggle("pointer-events-none"),e.classList.toggle("overflow-hidden"),t.setAttribute("aria-expanded",!n)};t.addEventListener("click",c),n.addEventListener("click",c),o.addEventListener("click",c),a.forEach(e=>{e.addEventListener("click",c)}),document.addEventListener("keydown",e=>{"Escape"!==e.key||s.classList.contains("translate-x-full")||c()});const l=document.getElementById("theme-toggle"),r=document.getElementById("theme-toggle-dark-icon"),i=document.getElementById("theme-toggle-light-icon"),d=(e,t=!1)=>{"dark"===e?(document.documentElement.classList.add("dark"),r.classList.remove("hidden"),i.classList.add("hidden"),t&&localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),r.classList.add("hidden"),i.classList.remove("hidden"),t&&localStorage.setItem("theme","light"))},m=localStorage.getItem("theme");d(m||"light"),l.addEventListener("click",()=>{const e=document.documentElement.classList.contains("dark")?"light":"dark";d(e,!0)});const g=document.querySelectorAll("a.nav-link"),u=document.querySelector(".nav-container"),h=document.querySelectorAll("main section[id]");if(h.length>0){const e=new IntersectionObserver(e=>{const t=e.find(e=>e.isIntersecting);if(t){const e=t.target.getAttribute("id"),n=document.querySelector(`.nav-link[href="#${e}"]`);if(g.forEach(e=>{e.classList.remove("text-[var(--accent)]"),e.classList.add("text-[var(--text-secondary)]")}),n&&(n.classList.remove("text-[var(--text-secondary)]"),n.classList.add("text-[var(--accent)]"),u)){const e=u.getBoundingClientRect(),t=n.getBoundingClientRect(),s=u.scrollLeft+t.left-e.left-e.width/2+t.width/2;u.scrollTo({left:s,behavior:"smooth"})}}},{rootMargin:"0px 0px -50% 0px",threshold:.25});h.forEach(t=>e.observe(t))}const v=document.querySelectorAll(".reveal");if(v.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});v.forEach(t=>e.observe(t))}const L=document.querySelectorAll("[data-target]");if(L.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,s=parseInt(n.getAttribute("data-target"),10);let o=0;const a=20,c=s/(2e3/a),l=()=>{o+=c,o<s?(n.textContent=Math.ceil(o),setTimeout(l,a)):n.textContent=s};l(),t.unobserve(n)}})},{threshold:.5});L.forEach(t=>e.observe(t))}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".faq-question");e.forEach(t=>{t.addEventListener("click",()=>{const n=t.nextElementSibling,s=t.querySelector("svg");e.forEach(e=>{if(e!==t){const t=e.nextElementSibling,n=e.querySelector("svg");t.classList.contains("open")&&(t.classList.remove("open"),t.style.maxHeight="0px",n.style.transform="rotate(0deg)",e.setAttribute("aria-expanded","false"))}}),n.classList.contains("open")?(n.classList.remove("open"),n.style.maxHeight="0px",s.style.transform="rotate(0deg)",t.setAttribute("aria-expanded","false")):(n.classList.add("open"),n.style.maxHeight=n.scrollHeight+"px",s.style.transform="rotate(180deg)",t.setAttribute("aria-expanded","true"))})})});