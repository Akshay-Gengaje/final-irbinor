document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.getElementById("menu-btn"),s=document.getElementById("sidebar-close-btn"),o=document.getElementById("mobile-menu"),n=document.getElementById("sidebar-overlay"),a=document.querySelectorAll("#mobile-menu a"),l=()=>{if(!o)return;const s=o.classList.contains("translate-x-full");o.classList.toggle("translate-x-full"),n.classList.toggle("opacity-0"),n.classList.toggle("pointer-events-none"),e.classList.toggle("overflow-hidden"),t.setAttribute("aria-expanded",!s)};t&&(t.addEventListener("click",l),s.addEventListener("click",l),n.addEventListener("click",l),a.forEach(e=>e.addEventListener("click",l)),document.addEventListener("keydown",e=>{"Escape"!==e.key||o.classList.contains("translate-x-full")||l()}));const c=document.getElementById("theme-toggle");if(c){const u=document.getElementById("theme-toggle-dark-icon"),h=document.getElementById("theme-toggle-light-icon"),y=(e,t=!1)=>{document.documentElement.classList.toggle("dark","dark"===e),u.classList.toggle("hidden","dark"!==e),h.classList.toggle("hidden","dark"===e),t&&localStorage.setItem("theme",e)},v=localStorage.getItem("theme")||"light";y(v),c.addEventListener("click",()=>{const e=document.documentElement.classList.contains("dark")?"light":"dark";y(e,!0)})}const i=document.getElementById("category-grid");if(i){const x={"luxury-weddings":{title:"Luxury Weddings",images:["https://images.pexels.com/photos/931179/pexels-photo-931179.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/169190/pexels-photo-169190.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2291462/pexels-photo-2291462.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"]},"corporate-gala":{title:"Corporate Galas",images:["https://images.pexels.com/photos/6519188/pexels-photo-6519188.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2774556/pexels-photo-2774556.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/5638743/pexels-photo-5638743.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"]},"minimalist-events":{title:"Minimalist Designs",images:["https://images.pexels.com/photos/6492397/pexels-photo-6492397.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2789328/pexels-photo-2789328.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/8903617/pexels-photo-8903617.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"]},"destination-events":{title:"Destination Events",images:["https://images.pexels.com/photos/1834407/pexels-photo-1834407.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2440856/pexels-photo-2440856.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"]}},b=document.getElementById("image-modal"),E=b.querySelector(".modal-content"),L=document.getElementById("modal-title"),f=document.getElementById("modal-counter"),w=document.getElementById("close-modal"),k=document.getElementById("prev-btn"),I=document.getElementById("next-btn"),B=document.getElementById("carousel-container");let j=[],S=0;function r(e){B.innerHTML='\n              <div id="loading-spinner" class="w-12 h-12 border-4 border-[var(--text-secondary)]/30 border-t-[var(--accent)] rounded-full animate-spin"></div>\n              <img id="modal-image" src="" alt="Event Inspiration" class="carousel-image w-full h-full object-contain opacity-0 transition-opacity duration-300">\n            ';const t=document.getElementById("loading-spinner"),s=document.getElementById("modal-image"),o=new Image;o.src=j[e],o.onload=()=>{t.style.display="none",s.src=o.src,s.classList.remove("opacity-0")},o.onerror=()=>{t.style.display="none",B.innerHTML=`\n                    <div class="text-center p-4 text-[var(--text-secondary)] flex flex-col items-center gap-4">\n                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n                        </svg>\n                        <p class="font-semibold">Sorry, the image could not be loaded.</p>\n                        <button\n                            onclick="retryImage(${e})"\n                            class="bg-[var(--accent)] text-white font-bold rounded-full px-6 py-2 hover:bg-[var(--accent-hover)] transition-colors duration-300"\n                        >\n                            Retry\n                        </button>\n                    </div>`},f.textContent=`${e+1} / ${j.length}`}function d(){b.classList.add("opacity-0"),E.classList.add("opacity-0","scale-95","-translate-y-5"),setTimeout(()=>{b.classList.add("pointer-events-none"),document.body.style.overflow="auto"},300)}function m(e){0!==j.length&&(S=(S+e+j.length)%j.length,r(S))}window.retryImage=e=>{r(e)},i.addEventListener("click",e=>{const t=e.target.closest(".category-card");t&&function(e){const t=x[e];t&&(j=t.images,S=0,L.textContent=t.title,r(S),b.classList.remove("pointer-events-none","opacity-0"),E.classList.remove("opacity-0","scale-95","-translate-y-5"),document.body.style.overflow="hidden")}(t.dataset.categoryId)}),I.addEventListener("click",()=>m(1)),k.addEventListener("click",()=>m(-1)),w.addEventListener("click",d),b.addEventListener("click",e=>e.target===b&&d()),document.addEventListener("keydown",e=>{b.classList.contains("opacity-0")||("Escape"===e.key&&d(),"ArrowRight"===e.key&&I.click(),"ArrowLeft"===e.key&&k.click())})}const p=document.querySelectorAll(".reveal");if(p.length>0){const A=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});p.forEach(e=>A.observe(e))}const g=document.querySelectorAll(".faq-question");g.forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling,s="true"===e.getAttribute("aria-expanded");s||g.forEach(e=>{e.setAttribute("aria-expanded","false"),e.nextElementSibling.style.maxHeight=null,e.querySelector("svg").style.transform="rotate(0deg)"}),e.setAttribute("aria-expanded",!s),t.style.maxHeight=s?null:t.scrollHeight+"px",e.querySelector("svg").style.transform=s?"rotate(0deg)":"rotate(180deg)"})})});