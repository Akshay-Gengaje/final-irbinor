document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.getElementById("menu-btn"),n=document.getElementById("sidebar-close-btn"),s=document.getElementById("mobile-menu"),o=document.getElementById("sidebar-overlay"),c=document.querySelectorAll("#mobile-menu a"),l=()=>{const n=s.classList.contains("translate-x-full");s.classList.toggle("translate-x-full"),o.classList.toggle("opacity-0"),o.classList.toggle("pointer-events-none"),e.classList.toggle("overflow-hidden"),t.setAttribute("aria-expanded",!n)};t.addEventListener("click",l),n.addEventListener("click",l),o.addEventListener("click",l),c.forEach(e=>{e.addEventListener("click",l)}),document.addEventListener("keydown",e=>{"Escape"!==e.key||s.classList.contains("translate-x-full")||l()});const a=document.getElementById("theme-toggle"),r=document.getElementById("theme-toggle-dark-icon"),d=document.getElementById("theme-toggle-light-icon"),i=(e,t=!1)=>{"dark"===e?(document.documentElement.classList.add("dark"),r.classList.remove("hidden"),d.classList.add("hidden"),t&&localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),r.classList.add("hidden"),d.classList.remove("hidden"),t&&localStorage.setItem("theme","light"))},m=localStorage.getItem("theme");i(m||"light"),a.addEventListener("click",()=>{const e=document.documentElement.classList.contains("dark")?"light":"dark";i(e,!0)});const g=document.querySelectorAll("a.nav-link"),u=document.querySelector(".nav-container"),h=document.querySelectorAll("main section[id]");if(h.length>0){const e=new IntersectionObserver(e=>{const t=e.find(e=>e.isIntersecting);if(t){const e=t.target.getAttribute("id"),n=document.querySelector(`.nav-link[href="#${e}"]`);if(g.forEach(e=>{e.classList.remove("text-[var(--accent)]"),e.classList.add("text-[var(--text-secondary)]")}),n&&(n.classList.remove("text-[var(--text-secondary)]"),n.classList.add("text-[var(--accent)]"),u)){const e=u.getBoundingClientRect(),t=n.getBoundingClientRect(),s=u.scrollLeft+t.left-e.left-e.width/2+t.width/2;u.scrollTo({left:s,behavior:"smooth"})}}},{rootMargin:"0px 0px -50% 0px",threshold:.25});h.forEach(t=>e.observe(t))}const v=document.querySelectorAll(".reveal");if(v.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});v.forEach(t=>e.observe(t))}const L=document.querySelectorAll("[data-target]");if(L.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,s=parseInt(n.getAttribute("data-target"),10);let o=0;const c=20,l=s/(2e3/c),a=()=>{o+=l,o<s?(n.textContent=Math.ceil(o),setTimeout(a,c)):n.textContent=s};a(),t.unobserve(n)}})},{threshold:.5});L.forEach(t=>e.observe(t))}});