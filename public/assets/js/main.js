document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.getElementById("menu-btn"),s=document.getElementById("sidebar-close-btn"),n=document.getElementById("mobile-menu"),a=document.getElementById("sidebar-overlay"),o=document.querySelectorAll("#mobile-menu a"),r=()=>{if(!n)return;const s=n.classList.contains("translate-x-full");n.classList.toggle("translate-x-full"),a.classList.toggle("opacity-0"),a.classList.toggle("pointer-events-none"),e.classList.toggle("overflow-hidden"),t.setAttribute("aria-expanded",!s)};t&&(t.addEventListener("click",r),s.addEventListener("click",r),a.addEventListener("click",r),o.forEach(e=>e.addEventListener("click",r)),document.addEventListener("keydown",e=>{"Escape"!==e.key||n.classList.contains("translate-x-full")||r()}));const l=document.getElementById("theme-toggle");if(l){const b=document.getElementById("theme-toggle-dark-icon"),E=document.getElementById("theme-toggle-light-icon"),p=(e,t=!1)=>{document.documentElement.classList.toggle("dark","dark"===e),b.classList.toggle("hidden","dark"!==e),E.classList.toggle("hidden","dark"===e),t&&localStorage.setItem("theme",e)},L=localStorage.getItem("theme")||"light";p(L),l.addEventListener("click",()=>{const e=document.documentElement.classList.contains("dark")?"light":"dark";p(e,!0)})}const c=document.getElementById("circular-carousel");if(c){const x=[{avif:"assets/images/carousel/corporate-conference-event.avif",webp:"assets/images/carousel/corporate-conference-event.webp",fallback:"assets/images/carousel/corporate-conference-event.jpg",alt:"Corporate conference event setup with seating and stage"},{avif:"assets/images/carousel/event-at-sea-side.avif",webp:"assets/images/carousel/event-at-sea-side.webp",fallback:"assets/images/carousel/event-at-sea-side.jpg",alt:"An event setup by the seaside with decorations"},{avif:"assets/images/carousel/stage-decoration-at-event.avif",webp:"assets/images/carousel/stage-decoration-at-event.webp",fallback:"assets/images/carousel/stage-decoration-at-event.jpg",alt:"Stage decorated for an event with lighting and drapes"},{avif:"assets/images/carousel/tent-outdoor-event-managment.avif",webp:"assets/images/carousel/tent-outdoor-event-managment.webp",fallback:"assets/images/carousel/tent-outdoor-event-managment.jpg",alt:"Outdoor event management setup with decorated tents"}],I=document.getElementById("carousel-prev-btn"),w=document.getElementById("carousel-next-btn"),B=document.getElementById("carousel-area");let k,S=0;const q=2e3;function d(){const e=c.querySelectorAll(".carousel-item"),t=e.length;e.forEach((e,s)=>{const n=(S-1+t)%t,a=(S+1)%t;e.style.transform="translateX(0) scale(0.7)",e.style.opacity="0",e.style.zIndex="0",e.style.filter="blur(5px)",s===S?(e.style.transform="translateX(0) scale(1)",e.style.opacity="1",e.style.zIndex="10",e.style.filter="blur(0)"):s===n?(e.style.transform="translateX(-50%) scale(0.8)",e.style.opacity="0.6",e.style.zIndex="5",e.style.filter="blur(3px)"):s===a&&(e.style.transform="translateX(50%) scale(0.8)",e.style.opacity="0.6",e.style.zIndex="5",e.style.filter="blur(3px)")})}function i(){m(),k=setInterval(()=>{S=(S+1)%x.length,d()},q)}function m(){clearInterval(k)}function u(){m(),i()}w.addEventListener("click",()=>{S=(S+1)%x.length,d(),u()}),I.addEventListener("click",()=>{S=(S-1+x.length)%x.length,d(),u()}),B&&(B.addEventListener("mouseenter",m),B.addEventListener("mouseleave",i)),function(){let e="";x.forEach(t=>{e+=`\n            <div class="carousel-item absolute w-3/4 md:w-1/2 transition-all duration-500 ease-in-out">\n                <picture>\n                    <source srcset="${t.avif}" type="image/avif">\n                    <source srcset="${t.webp}" type="image/webp">\n                    <img src="${t.fallback}" alt="${t.alt}" class="w-full h-full object-cover rounded-xl shadow-2xl" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/800x450/333/fff?text=Image+Not+Found';">\n                </picture>\n            </div>\n        `}),c.innerHTML=e}(),d(),i()}const g=document.querySelectorAll(".reveal");if(g.length>0){const A=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});g.forEach(e=>A.observe(e))}document.querySelectorAll(".faq-question").forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling,s="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!s),t.style.maxHeight=s?null:t.scrollHeight+"px",e.querySelector("svg").style.transform=s?"rotate(0deg)":"rotate(180deg)"})});const f=document.getElementById("tabs-container");if(f){const C=f.querySelectorAll(".tab-btn"),z=document.querySelectorAll(".content-panel");C.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.target;C.forEach(e=>{e.classList.remove("active")}),z.forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),document.getElementById(t).classList.add("active")})})}const v=document.querySelectorAll('a[href^="#"]'),y=document.querySelector("header");v.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),s=document.querySelector(t);if(s){const e=y?y.offsetHeight:0,t=s.getBoundingClientRect().top+window.pageYOffset-e-30;window.scrollTo({top:t,behavior:"smooth"})}})});const h=document.getElementById("contact-form");if(h){const j=document.getElementById("name"),M=document.getElementById("email"),$=document.getElementById("message"),H=document.getElementById("name-error"),O=document.getElementById("email-error"),P=document.getElementById("message-error"),T=document.getElementById("submit-btn"),D=document.getElementById("submit-btn-text"),X=document.getElementById("submit-spinner"),N=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),F=(e,t=!0)=>{const s=T.parentElement;let n=document.getElementById("form-status-message");n||(n=document.createElement("p"),n.id="form-status-message",n.className="text-center text-sm mb-4",s.prepend(n)),n.textContent=e,n.classList.remove("text-green-500","text-red-500"),n.classList.add(t?"text-green-500":"text-red-500")};h.addEventListener("submit",function(e){e.preventDefault();let t=!0;const s=[j,M,$],n=[H,O,P],a=document.getElementById("form-status-message");if(a&&(a.textContent=""),n.forEach(e=>e.textContent=""),s.forEach(e=>e.classList.remove("border-red-500")),""===j.value.trim()&&(H.textContent="Name is required.",j.classList.add("border-red-500"),t=!1),""===M.value.trim()?(O.textContent="Email is required.",M.classList.add("border-red-500"),t=!1):N(M.value)||(O.textContent="Please enter a valid email address.",M.classList.add("border-red-500"),t=!1),""===$.value.trim()?(P.textContent="Message is required.",$.classList.add("border-red-500"),t=!1):$.value.trim().length<10&&(P.textContent="Message must be at least 10 characters long.",$.classList.add("border-red-500"),t=!1),t){T.disabled=!0,D.textContent="Sending...",X.classList.remove("hidden");const e=new FormData(h);fetch("contact.php",{method:"POST",body:e}).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(e=>{e.success?(F("Message sent successfully!",!0),h.reset()):F(e.message||"An error occurred. Please try again.",!1)}).catch(e=>{console.error("Error:",e),F("Could not connect to the server. Please try again later.",!1)}).finally(()=>{T.disabled=!1,D.textContent="Send Message",X.classList.add("hidden")})}})}});