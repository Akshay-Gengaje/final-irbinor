document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.getElementById("menu-btn"),s=document.getElementById("sidebar-close-btn"),n=document.getElementById("mobile-menu"),a=document.getElementById("sidebar-overlay"),o=document.querySelectorAll("#mobile-menu a"),r=()=>{if(!n)return;const s=n.classList.contains("translate-x-full");n.classList.toggle("translate-x-full"),a.classList.toggle("opacity-0"),a.classList.toggle("pointer-events-none"),e.classList.toggle("overflow-hidden"),t.setAttribute("aria-expanded",!s)};t&&(t.addEventListener("click",r),s.addEventListener("click",r),a.addEventListener("click",r),o.forEach(e=>e.addEventListener("click",r)),document.addEventListener("keydown",e=>{"Escape"!==e.key||n.classList.contains("translate-x-full")||r()}));const l=document.getElementById("theme-toggle");if(l){const E=document.getElementById("theme-toggle-dark-icon"),p=document.getElementById("theme-toggle-light-icon"),L=(e,t=!1)=>{document.documentElement.classList.toggle("dark","dark"===e),E.classList.toggle("hidden","dark"!==e),p.classList.toggle("hidden","dark"===e),t&&localStorage.setItem("theme",e)},x=localStorage.getItem("theme")||"light";L(x),l.addEventListener("click",()=>{const e=document.documentElement.classList.contains("dark")?"light":"dark";L(e,!0)})}const c=document.getElementById("circular-carousel");if(c){const I=[{avif:"assets/images/carousel/corporate-conference-event.avif",webp:"assets/images/carousel/corporate-conference-event.webp",fallback:"assets/images/carousel/corporate-conference-event.jpg",alt:"Corporate conference event setup with seating and stage"},{avif:"assets/images/carousel/event-at-sea-side.avif",webp:"assets/images/carousel/event-at-sea-side.webp",fallback:"assets/images/carousel/event-at-sea-side.jpg",alt:"An event setup by the seaside with decorations"},{avif:"assets/images/carousel/stage-decoration-at-event.avif",webp:"assets/images/carousel/stage-decoration-at-event.webp",fallback:"assets/images/carousel/stage-decoration-at-event.jpg",alt:"Stage decorated for an event with lighting and drapes"},{avif:"assets/images/carousel/tent-outdoor-event-managment.avif",webp:"assets/images/carousel/tent-outdoor-event-managment.webp",fallback:"assets/images/carousel/tent-outdoor-event-managment.jpg",alt:"Outdoor event management setup with decorated tents"}],w=document.getElementById("carousel-prev-btn"),B=document.getElementById("carousel-next-btn"),k=document.getElementById("carousel-area");let S,A=0;const C=2e3;function i(){const e=c.querySelectorAll(".carousel-item"),t=e.length;e.forEach((e,s)=>{const n=(A-1+t)%t,a=(A+1)%t;e.style.transform="translateX(0) scale(0.7)",e.style.opacity="0",e.style.zIndex="0",e.style.filter="blur(5px)",s===A?(e.style.transform="translateX(0) scale(1)",e.style.opacity="1",e.style.zIndex="10",e.style.filter="blur(0)"):s===n?(e.style.transform="translateX(-50%) scale(0.8)",e.style.opacity="0.6",e.style.zIndex="5",e.style.filter="blur(3px)"):s===a&&(e.style.transform="translateX(50%) scale(0.8)",e.style.opacity="0.6",e.style.zIndex="5",e.style.filter="blur(3px)")})}function d(){m(),S=setInterval(()=>{A=(A+1)%I.length,i()},C)}function m(){clearInterval(S)}function u(){m(),d()}B.addEventListener("click",()=>{A=(A+1)%I.length,i(),u()}),w.addEventListener("click",()=>{A=(A-1+I.length)%I.length,i(),u()}),k&&(k.addEventListener("mouseenter",m),k.addEventListener("mouseleave",d)),function(){let e="";I.forEach(t=>{e+=`\n            <div class="carousel-item absolute w-3/4 md:w-1/2 transition-all duration-500 ease-in-out">\n                <picture>\n                    <source srcset="${t.avif}" type="image/avif">\n                    <source srcset="${t.webp}" type="image/webp">\n                    <img src="${t.fallback}" alt="${t.alt}" class="w-full h-full object-cover rounded-xl shadow-2xl" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/800x450/333/fff?text=Image+Not+Found';">\n                </picture>\n            </div>\n        `}),c.innerHTML=e}(),i(),d()}const g=document.querySelectorAll(".reveal");if(g.length>0){const q=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});g.forEach(e=>q.observe(e))}const f=document.querySelectorAll(".faq-question");f.forEach(e=>{e.addEventListener("click",()=>{const t="true"!==e.getAttribute("aria-expanded");if(f.forEach(t=>{t!==e&&(t.setAttribute("aria-expanded","false"),t.classList.remove("active"),t.nextElementSibling.style.maxHeight=null)}),t){e.setAttribute("aria-expanded","true"),e.classList.add("active");const t=e.nextElementSibling;t.style.maxHeight=t.scrollHeight+"px"}else e.setAttribute("aria-expanded","false"),e.classList.remove("active"),e.nextElementSibling.style.maxHeight=null})});const v=document.getElementById("tabs-container");if(v){const z=v.querySelectorAll(".tab-btn"),H=document.querySelectorAll(".content-panel");z.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.target;z.forEach(e=>{e.classList.remove("active")}),H.forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),document.getElementById(t).classList.add("active")})})}const y=document.querySelectorAll('a[href^="#"]'),h=document.querySelector("header");y.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),s=document.querySelector(t);if(s){const e=h?h.offsetHeight:0,t=s.getBoundingClientRect().top+window.pageYOffset-e-30;window.scrollTo({top:t,behavior:"smooth"})}})});const b=document.getElementById("contact-form");if(b){const j=document.getElementById("name"),M=document.getElementById("email"),$=document.getElementById("message"),O=document.getElementById("name-error"),P=document.getElementById("email-error"),T=document.getElementById("message-error"),D=document.getElementById("submit-btn"),X=document.getElementById("submit-btn-text"),N=document.getElementById("submit-spinner"),F=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),Z=(e,t=!0)=>{const s=D.parentElement;let n=document.getElementById("form-status-message");n||(n=document.createElement("p"),n.id="form-status-message",n.className="text-center text-sm mb-4",s.prepend(n)),n.textContent=e,n.classList.remove("text-green-500","text-red-500"),n.classList.add(t?"text-green-500":"text-red-500")};b.addEventListener("submit",function(e){e.preventDefault();let t=!0;const s=[j,M,$],n=[O,P,T],a=document.getElementById("form-status-message");if(a&&(a.textContent=""),n.forEach(e=>e.textContent=""),s.forEach(e=>e.classList.remove("border-red-500")),""===j.value.trim()&&(O.textContent="Name is required.",j.classList.add("border-red-500"),t=!1),""===M.value.trim()?(P.textContent="Email is required.",M.classList.add("border-red-500"),t=!1):F(M.value)||(P.textContent="Please enter a valid email address.",M.classList.add("border-red-500"),t=!1),""===$.value.trim()?(T.textContent="Message is required.",$.classList.add("border-red-500"),t=!1):$.value.trim().length<10&&(T.textContent="Message must be at least 10 characters long.",$.classList.add("border-red-500"),t=!1),t){D.disabled=!0,X.textContent="Sending...",N.classList.remove("hidden");const e=new FormData(b);fetch("contact.php",{method:"POST",body:e}).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(e=>{e.success?(Z("Message sent successfully!",!0),b.reset()):Z(e.message||"An error occurred. Please try again.",!1)}).catch(e=>{console.error("Error:",e),Z("Could not connect to the server. Please try again later.",!1)}).finally(()=>{D.disabled=!1,X.textContent="Send Message",N.classList.add("hidden")})}})}});