document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.getElementById("menu-btn"),n=document.getElementById("sidebar-close-btn"),o=document.getElementById("mobile-menu"),s=document.getElementById("sidebar-overlay"),c=document.querySelectorAll("#mobile-menu a"),l=()=>{const n=o.classList.contains("translate-x-full");o.classList.toggle("translate-x-full"),s.classList.toggle("opacity-0"),s.classList.toggle("pointer-events-none"),e.classList.toggle("overflow-hidden"),t.setAttribute("aria-expanded",!n)};t.addEventListener("click",l),n.addEventListener("click",l),s.addEventListener("click",l),c.forEach(e=>{e.addEventListener("click",l)}),document.addEventListener("keydown",e=>{"Escape"!==e.key||o.classList.contains("translate-x-full")||l()});const a=document.getElementById("theme-toggle"),r=document.getElementById("theme-toggle-dark-icon"),d=document.getElementById("theme-toggle-light-icon"),i=e=>{"dark"===e?(document.documentElement.classList.add("dark"),r.classList.remove("hidden"),d.classList.add("hidden"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),r.classList.add("hidden"),d.classList.remove("hidden"),localStorage.setItem("theme","light"))},m=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");i(m),a.addEventListener("click",()=>{const e=document.documentElement.classList.contains("dark")?"light":"dark";i(e)});const g=document.querySelectorAll("a.nav-link"),u=document.querySelector(".nav-container"),h=document.querySelectorAll("main section[id]");if(u&&h.length>0){const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.getAttribute("id"),n=document.querySelector(`.nav-link[href="#${t}"]`);if(g.forEach(e=>e.classList.remove("text-[var(--accent)]")),n){n.classList.add("text-[var(--accent)]");const e=u.getBoundingClientRect(),t=n.getBoundingClientRect(),o=u.scrollLeft+t.left-e.left-e.width/2+t.width/2;u.scrollTo({left:o,behavior:"smooth"})}}})},{rootMargin:"-50% 0px -50% 0px",threshold:0});h.forEach(t=>e.observe(t))}const v=document.querySelectorAll(".reveal");if(v.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});v.forEach(t=>e.observe(t))}const E=document.querySelectorAll("[data-target]");if(E.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,o=parseInt(n.getAttribute("data-target"),10);let s=0;const c=20,l=o/(2e3/c),a=()=>{s+=l,s<o?(n.textContent=Math.ceil(s),setTimeout(a,c)):n.textContent=o};a(),t.unobserve(n)}})},{threshold:.5});E.forEach(t=>e.observe(t))}});