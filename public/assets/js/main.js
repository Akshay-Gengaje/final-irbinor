document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.getElementById("main-header"),a=document.getElementById("menu-btn"),s=document.getElementById("sidebar-close-btn"),n=document.getElementById("mobile-menu"),l=document.getElementById("sidebar-overlay");window.addEventListener("scroll",()=>{window.scrollY>50?t.classList.add("header-scrolled"):t.classList.remove("header-scrolled")});const o=()=>{if(!n)return;const t=!n.classList.contains("translate-x-full");n.classList.toggle("translate-x-full"),l.classList.toggle("opacity-0"),l.classList.toggle("pointer-events-none"),e.classList.toggle("overflow-hidden",!t),a.setAttribute("aria-expanded",String(!t))};a&&(a.addEventListener("click",o),s.addEventListener("click",o),l.addEventListener("click",o),document.addEventListener("keydown",e=>{"Escape"!==e.key||n.classList.contains("translate-x-full")||o()}));const r=document.getElementById("mobile-services-toggle"),c=document.getElementById("mobile-services-submenu"),i=document.getElementById("mobile-services-chevron");r&&r.addEventListener("click",()=>{const e="true"===r.getAttribute("aria-expanded");r.setAttribute("aria-expanded",String(!e)),c.style.maxHeight?(c.style.maxHeight=null,i.style.transform="rotate(0deg)"):(c.style.maxHeight=c.scrollHeight+"px",i.style.transform="rotate(180deg)")});document.querySelectorAll("#mobile-menu a").forEach(e=>{e.addEventListener("click",()=>{n.classList.contains("translate-x-full")||o()})});const d=document.getElementById("theme-toggle");if(d){const e=document.getElementById("theme-toggle-dark-icon"),t=document.getElementById("theme-toggle-light-icon"),a=(a,s=!1)=>{document.documentElement.classList.toggle("dark","dark"===a),e.classList.toggle("hidden","dark"!==a),t.classList.toggle("hidden","dark"===a),s&&localStorage.setItem("theme",a)},s=localStorage.getItem("theme")||"light";a(s),d.addEventListener("click",()=>{const e=document.documentElement.classList.contains("dark")?"light":"dark";a(e,!0)})}const m=document.getElementById("circular-carousel");if(m){const e=[{avif:"assets/images/carousel/corporate-conference-event.avif",webp:"assets/images/carousel/corporate-conference-event.webp",fallback:"assets/images/carousel/corporate-conference-event.jpg",alt:"Corporate conference event setup"},{avif:"assets/images/carousel/event-at-sea-side.avif",webp:"assets/images/carousel/event-at-sea-side.webp",fallback:"assets/images/carousel/event-at-sea-side.jpg",alt:"Seaside event setup"},{avif:"assets/images/carousel/stage-decoration-at-event.avif",webp:"assets/images/carousel/stage-decoration-at-event.webp",fallback:"assets/images/carousel/stage-decoration-at-event.jpg",alt:"Decorated event stage"},{avif:"assets/images/carousel/tent-outdoor-event-managment.avif",webp:"assets/images/carousel/tent-outdoor-event-managment.webp",fallback:"assets/images/carousel/tent-outdoor-event-managment.jpg",alt:"Outdoor event tent"}],t=document.getElementById("carousel-prev-btn"),a=document.getElementById("carousel-next-btn");let s=0;m.innerHTML=e.map(e=>`\n      <div class="carousel-item absolute w-3/4 md:w-1/2 transition-all duration-500 ease-in-out">\n        <picture>\n          <source srcset="${e.avif}" type="image/avif">\n          <source srcset="${e.webp}" type="image/webp">\n          <img src="${e.fallback}" alt="${e.alt}" class="w-full h-full object-cover rounded-xl shadow-2xl" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/800x450/333/fff?text=Image+Not+Found';">\n        </picture>\n      </div>`).join("");const n=m.querySelectorAll(".carousel-item"),l=n.length,o=()=>{n.forEach((e,t)=>{const a=(s-1+l)%l,n=(s+1)%l;e.style.transform="translateX(0) scale(0.7)",e.style.opacity="0",e.style.zIndex="0",e.style.filter="blur(5px)",t===s?(e.style.transform="translateX(0) scale(1)",e.style.opacity="1",e.style.zIndex="10",e.style.filter="blur(0)"):t===a?(e.style.transform="translateX(-50%) scale(0.8)",e.style.opacity="0.6",e.style.zIndex="5",e.style.filter="blur(3px)"):t===n&&(e.style.transform="translateX(50%) scale(0.8)",e.style.opacity="0.6",e.style.zIndex="5",e.style.filter="blur(3px)")})};a.addEventListener("click",()=>{s=(s+1)%l,o()}),t.addEventListener("click",()=>{s=(s-1+l)%l,o()}),o()}const u=document.querySelectorAll(".reveal");if(u.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});u.forEach(t=>e.observe(t))}const g=document.querySelectorAll(".portfolio-tab"),f=document.querySelectorAll(".portfolio-gallery");if(g.length){g.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-tab");g.forEach(e=>e.classList.remove("active-tab","border-[var(--accent)]","text-[var(--accent)]")),e.classList.add("active-tab","border-[var(--accent)]","text-[var(--accent)]"),f.forEach(e=>{e.id===t?e.classList.remove("hidden"):e.classList.add("hidden")})})});const e=document.querySelector(".portfolio-tab.active-tab");e&&e.classList.add("border-[var(--accent)]","text-[var(--accent)]")}const v=document.querySelectorAll(".faq-toggle, .faq-question");v.forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling,a=e.querySelector(".faq-icon svg, .transform"),s="true"===e.getAttribute("aria-expanded");v.forEach(t=>{if(t!==e){t.setAttribute("aria-expanded","false"),t.nextElementSibling.style.maxHeight=null;const e=t.querySelector(".faq-icon svg, .transform");e&&(e.style.transform="rotate(0deg)")}}),s?(e.setAttribute("aria-expanded","false"),t.style.maxHeight=null,a&&(a.style.transform="rotate(0deg)")):(e.setAttribute("aria-expanded","true"),t.style.maxHeight=t.scrollHeight+"px",a&&(a.style.transform="rotate(45deg)"))})});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const a=this.getAttribute("href");if(a.startsWith("#")){e.preventDefault();const s=document.querySelector(a);if(s){const e=t?t.offsetHeight:0,a=s.offsetTop-e-30;window.scrollTo({top:a,behavior:"smooth"})}}})})});